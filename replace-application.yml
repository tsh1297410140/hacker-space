############################################################
#
# 网关zuul
# web访问端口号  约定：7070
#
############################################################
server:
  port: 7070
  tomcat:
    uri-encoding: UTF-8

############################################################
#
# 配置项目信息
#
############################################################
spring:
  application:
    name: springcloud-zuul-server
  redis:
    database: 1
    password: 123456
    host: 192.168.101.5
    port: 6379

############################################################
#
# 配置路由规则: http://[网关地址]:[端口号]/[prefix]/[path]/[微服务的id]/[请求地址路径]
#
############################################################
zuul:
  routes:
    service-article: /service-article/**    # 由于路由id和微服务实例id相同，简化配置
  #    service-article: # 配置微服务得路由id，微服务得实例id
  #      path: /service-article/**         # 微服务请求前缀（路径）（也就是微服务的id）
  #      service-id: service-article       # 请求转发的微服务实例id（取代url，作为eureka client直接从eureka server中通过微服务实例id获取url）
  #      url: http://192.168.101.5:8001    # 请求转发到指定微服务所在服务器得ip地址
  prefix: /api                          # 请求前缀

############################################################
#
# 配置eureka client 信息
#
############################################################
eureka:
  #自定义eureka server的信息
  server:
    hostname: eureka
    port: 7000
  client:
    #所有的微服务都要注册到eureka服务中
    register-with-eureka: true
    #从注册中心获得检索服务列表
    fetch-registry: true
    #注册中心的服务地址，高可用集群需要配置多个地址
    service-url:
      defaultZone: http://eureka-cluster-7001:7001/eureka/,http://eureka-cluster-7002:7002/eureka/,http://eureka-cluster-7003:7003/eureka/

############################################################
#
# ip请求参数限制的配置
#
############################################################
blackIp:
  continueCounts: 10
  timeInterval: 10
  limitTimes: 15